<h3 class="fw-bold mb-3 text-primary">Your Profile</h3>

<div *ngIf="successMessage" class="alert alert-success mb-3">
  {{ successMessage }}
</div>
<div *ngIf="errorMessage" class="alert alert-danger mb-3">
  {{ errorMessage }}
</div>

<form (ngSubmit)="updateProfile()">
  <!-- Read-only information -->
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input
      type="email"
      class="form-control bg-light user-email"
      [value]="userInfo.email"
      readonly
    />
  </div>

  <div class="mb-3">
    <label class="form-label">Username</label>
    <input
      type="text"
      class="form-control bg-light username"
      [value]="userInfo.username"
      readonly
    />
  </div>

  <!-- Editable information -->
  <div class="mb-3">
    <label for="firstName" class="form-label">First Name</label>
    <input
      type="text"
      id="firstName"
      name="firstName"
      class="form-control"
      [(ngModel)]="userData.firstName"
      required
    />
  </div>

  <div class="mb-3">
    <label for="lastName" class="form-label">Last Name</label>
    <input
      type="text"
      id="lastName"
      name="lastName"
      class="form-control"
      [(ngModel)]="userData.lastName"
      required
    />
  </div>

  <div class="mb-3">
    <label for="phone" class="form-label">Phone Number</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      class="form-control"
      [(ngModel)]="userData.phone"
    />
  </div>

  <div class="mb-3">
    <label for="address" class="form-label">Address</label>
    <textarea
      id="address"
      name="address"
      class="form-control"
      rows="3"
      [(ngModel)]="userData.address"
    ></textarea>
  </div>

  <button type="submit" class="btn btn-primary w-100" [disabled]="isLoading">
    <span
      *ngIf="isLoading"
      class="spinner-border spinner-border-sm me-2"
      role="status"
      aria-hidden="true"
    ></span>
    {{ isLoading ? "Updating..." : "Update Profile" }}
  </button>
</form>
